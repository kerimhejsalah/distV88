(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{A5DG:function(e,t,n){"use strict";n.r(t),n.d(t,"AddpatientModule",(function(){return q}));var a=n("ofXK"),c=n("tyNb"),i=n("PSD3"),r=n.n(i),s=n("3Pt+"),o=n("4c1C"),d=n("UE0P"),l=n("fXoL"),u=n("DJUr"),p=n("dNgK"),b=n("1EOM"),m=n("sYmb");function g(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Nom invalide "),l.ac())}function h(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Pr\xe9nom invalide "),l.ac())}function f(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Email invalide , Example: example@example.com "),l.ac())}function y(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Mot de passe invalide (minimum 6 caract\xe9res) "),l.ac())}function P(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Saisir votre addresse "),l.ac())}function v(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," S\xe9l\xe9ctionner le genre "),l.ac())}function C(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Saisir votre addresse "),l.ac())}function M(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," Saisir votre addresse "),l.ac())}function w(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," S\xe9l\xe9ctionner la date de naissance "),l.ac())}function A(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," T\xe9l\xe8phone invalide "),l.ac())}function T(e,t){1&e&&(l.bc(0,"p",32),l.Pc(1," SSN invalide "),l.ac())}function J(e,t){if(1&e&&(l.bc(0,"div",33),l.Wb(1,"img",34),l.ac()),2&e){const e=l.mc();l.Jb(1),l.sc("src",e.url,l.Gc)}}function E(e,t){1&e&&(l.bc(0,"div",35),l.bc(1,"div",36),l.bc(2,"span",37),l.Pc(3,"Loading..."),l.ac(),l.ac(),l.ac())}const S=function(e){return{"form-control":!0,error:e}},N=[{path:"",component:(()=>{class e{constructor(e,t,n,a,c){this.formBuilder=e,this.AuthPatient=t,this.snackBar=n,this.DemandeService=a,this.router=c,this.emailValid="",this.validSpinner=!1,this.resultAdd=!1,this.testName=!1,this.testLastName=!1,this.testEmail=!1,this.testPassword=!1,this.testAdresse=!1,this.testGender=!1,this.testBirthday=!1,this.testTelephone=!1,this.testSsn=!1,this.patient={name:"",lastname:"",email:"",birthday:"",ssn:"",adresse:"",tel:"",password:"",added_date:"",gender:"",account_state:!1,archived:!1,photo:"",weight:0,size:0,mailConfirmation:!1,consontement:""},this.submitted=!1,this.title="email-validation-tutorial",this.userEmails=new s.h({primaryEmail:new s.f("",[s.y.required,s.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]),secondaryEmail:new s.f("",[s.y.required,s.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")])})}ngOnInit(){this.registerForm=this.formBuilder.group({firstName:["",s.y.required],lastName:["",s.y.required],email:["",[s.y.required,s.y.email,s.y.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],password:["",[s.y.required,s.y.minLength(6)]]}),this.registerFormPat=this.formBuilder.group({name:["",s.y.required],lastname:["",s.y.required],birthday:["",s.y.required],tel:["",s.y.required],adresse:["",s.y.required],ssn:["",s.y.required],gender:["",s.y.required],email:["",[s.y.required,s.y.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)],this.checkInUseEmail],password:["",[s.y.required,this.checkPassword]],confirmPassword:["",[s.y.required,this.checkPassword]],acceptTerms:[!1,s.y.requiredTrue],consontement:[!1,s.y.requiredTrue],mailConfirmation:[!1,s.y.requiredTrue],weight:[!1,s.y.required],size:[!1,s.y.required]},{validator:Object(d.a)("password","confirmPassword")}),this.registerForm=this.formBuilder.group({title:["",s.y.required],firstName:["",s.y.required],lastName:["",s.y.required],email:["",[s.y.required,s.y.email]],password:["",[s.y.required,s.y.minLength(6)]],confirmPassword:["",s.y.required],acceptTerms:[!1,s.y.requiredTrue]},{validator:Object(d.a)("password","confirmPassword")})}checkPassword(e){let t=e.value;return!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(t)&&t?{requirements:!0}:null}checkInUseEmail(e){let t=["tony@gmail.com"];return new o.Observable(n=>{setTimeout(()=>{let a=-1!==t.indexOf(e.value)?{alreadyInUse:!0}:null;n.next(a),n.complete()},4e3)})}createPatien(){this.AuthPatient.registerPatient(this.patient).subscribe(e=>{console.log(e),this.dataAddInvit=e;let t={doctor:localStorage.getItem("id_Pro"),patient:this.dataAddInvit._id,email:this.dataAddInvit.email,dataPatient:this.patient};console.log(t),this.DemandeService.AddCreatePatient(t).subscribe(e=>{e&&this.router.navigate(["/professionnel/contact"])})})}validEmail(){this.validSpinner=!0,this.AuthPatient.emailIsExist({email:this.patient.email}).subscribe(e=>{this.result=e,"Invalid Email"===this.result.res?setTimeout(()=>{this.resultAdd=!0,this.validSpinner=!1;const e=r.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",r.a.stopTimer),e.addEventListener("mouseleave",r.a.resumeTimer)}});"fr"===localStorage.getItem("langauage")?e.fire({icon:"success",title:"Le compte a \xe9t\xe9 cr\xe9\xe9"}):e.fire({icon:"success",title:"Account has been created"}),this.createPatien()},5e3):setTimeout(()=>{this.resultAdd=!1,this.validSpinner=!1;const e=r.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",r.a.stopTimer),e.addEventListener("mouseleave",r.a.resumeTimer)}});"fr"===localStorage.getItem("langauage")?e.fire({icon:"error",title:"L'email existe d\xe9j\xe0"}):e.fire({icon:"error",title:"Email is exist "})},5e3)})}get f(){return this.registerForm.controls}onSubmit(){this.submitted=!0,console.log(this.registerFormPat),this.registerForm.invalid||alert("SUCCESS!! :-)\n\n"+JSON.stringify(this.registerForm.value,null,4))}onReset(){this.submitted=!1,this.registerForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(l.Vb(s.e),l.Vb(u.a),l.Vb(p.a),l.Vb(b.a),l.Vb(c.f))},e.\u0275cmp=l.Pb({type:e,selectors:[["app-add-patient"]],decls:101,vars:119,consts:[[1,"col-md-12",2,"margin-top","-16px"],[1,"card","pt-3",2,"height","780px"],[1,"card-body"],["aria-label","breadcrumb",1,"main-breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],[2,"font-weight","bold","font-size","90%"],[1,"form-row"],[1,"form-group","col-md-6"],["for","inputName"],["type","text","id","inputName",3,"ngModel","ngClass","placeholder","ngModelChange"],["class","text-danger",4,"ngIf"],["for","inputPrenom"],["type","text","id","inputPrenom",3,"ngModel","ngClass","placeholder","ngModelChange"],["for","inputEmail4"],["type","email","id","inputEmail4",3,"ngModel","ngClass","placeholder","ngModelChange"],["for","inputPassword4"],["type","password","id","inputPassword4",3,"ngModel","ngClass","placeholder","ngModelChange"],["for","inputAddress"],["type","text","id","inputAddress",3,"ngModel","ngClass","placeholder","ngModelChange"],["name","","id","",3,"ngClass","ngModel","ngModelChange"],[3,"ngValue"],[1,"form-group","col-md-4"],["for","inputCity"],["type","date","id","inputCity",3,"ngModel","ngClass","ngModelChange"],["for","inputTel"],["type","text","id","inputTel",3,"ngModel","ngClass","ngModelChange"],["for","inputZip"],["type","text","id","inputZip",3,"ngModel","ngClass","ngModelChange"],["class","form-groupe  m-3",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"text-danger"],[1,"form-groupe","m-3"],["alt","",2,"width","100px",3,"src"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(e,t){1&e&&(l.bc(0,"div",0),l.bc(1,"div",1),l.bc(2,"div",2),l.bc(3,"nav",3),l.bc(4,"ol",4),l.bc(5,"li",5),l.bc(6,"a",6),l.Pc(7),l.nc(8,"translate"),l.ac(),l.ac(),l.ac(),l.ac(),l.Wb(9,"br"),l.Wb(10,"br"),l.Wb(11,"br"),l.Wb(12,"br"),l.bc(13,"div"),l.bc(14,"div",7),l.bc(15,"div",8),l.bc(16,"label",9),l.Pc(17),l.nc(18,"translate"),l.ac(),l.bc(19,"input",10),l.ic("ngModelChange",(function(e){return t.patient.name=e})),l.nc(20,"translate"),l.ac(),l.Nc(21,g,2,0,"p",11),l.ac(),l.bc(22,"div",8),l.bc(23,"label",12),l.Pc(24),l.nc(25,"translate"),l.ac(),l.bc(26,"input",13),l.ic("ngModelChange",(function(e){return t.patient.lastname=e})),l.nc(27,"translate"),l.ac(),l.Nc(28,h,2,0,"p",11),l.ac(),l.ac(),l.bc(29,"div",7),l.bc(30,"div",8),l.bc(31,"label",14),l.Pc(32),l.nc(33,"translate"),l.ac(),l.bc(34,"input",15),l.ic("ngModelChange",(function(e){return t.patient.email=e})),l.nc(35,"translate"),l.ac(),l.Nc(36,f,2,0,"p",11),l.ac(),l.bc(37,"div",8),l.bc(38,"label",16),l.Pc(39),l.nc(40,"translate"),l.ac(),l.bc(41,"input",17),l.ic("ngModelChange",(function(e){return t.patient.password=e})),l.nc(42,"translate"),l.ac(),l.Nc(43,y,2,0,"p",11),l.ac(),l.ac(),l.bc(44,"div",7),l.bc(45,"div",8),l.bc(46,"label",18),l.Pc(47),l.nc(48,"translate"),l.ac(),l.bc(49,"input",19),l.ic("ngModelChange",(function(e){return t.patient.adresse=e})),l.nc(50,"translate"),l.ac(),l.Nc(51,P,2,0,"p",11),l.ac(),l.bc(52,"div",8),l.bc(53,"label",14),l.Pc(54,"Gender"),l.ac(),l.bc(55,"select",20),l.ic("ngModelChange",(function(e){return t.patient.gender=e})),l.bc(56,"option",21),l.Pc(57),l.nc(58,"translate"),l.ac(),l.bc(59,"option",21),l.Pc(60),l.nc(61,"translate"),l.ac(),l.ac(),l.Nc(62,v,2,0,"p",11),l.ac(),l.ac(),l.bc(63,"div",7),l.bc(64,"div",8),l.bc(65,"label",18),l.Pc(66),l.nc(67,"translate"),l.ac(),l.bc(68,"input",19),l.ic("ngModelChange",(function(e){return t.patient.weight=e})),l.nc(69,"translate"),l.ac(),l.Nc(70,C,2,0,"p",11),l.ac(),l.bc(71,"div",8),l.bc(72,"label",14),l.Pc(73),l.nc(74,"translate"),l.ac(),l.bc(75,"input",19),l.ic("ngModelChange",(function(e){return t.patient.size=e})),l.nc(76,"translate"),l.ac(),l.Nc(77,M,2,0,"p",11),l.ac(),l.ac(),l.bc(78,"div",7),l.bc(79,"div",22),l.bc(80,"label",23),l.Pc(81),l.nc(82,"translate"),l.ac(),l.bc(83,"input",24),l.ic("ngModelChange",(function(e){return t.patient.birthday=e})),l.ac(),l.Nc(84,w,2,0,"p",11),l.ac(),l.bc(85,"div",22),l.bc(86,"label",25),l.Pc(87),l.nc(88,"translate"),l.ac(),l.bc(89,"input",26),l.ic("ngModelChange",(function(e){return t.patient.tel=e})),l.ac(),l.Nc(90,A,2,0,"p",11),l.ac(),l.bc(91,"div",22),l.bc(92,"label",27),l.Pc(93,"ssn"),l.ac(),l.bc(94,"input",28),l.ic("ngModelChange",(function(e){return t.patient.ssn=e})),l.ac(),l.Nc(95,T,2,0,"p",11),l.ac(),l.ac(),l.Nc(96,J,2,1,"div",29),l.Nc(97,E,4,0,"div",30),l.bc(98,"button",31),l.ic("click",(function(){return t.validEmail()})),l.Pc(99),l.nc(100,"translate"),l.ac(),l.ac(),l.ac(),l.ac(),l.ac()),2&e&&(l.Jb(7),l.Qc(l.oc(8,57,"LISTPATIENT.CC")),l.Jb(10),l.Qc(l.oc(18,59,"AUTH.NOM")),l.Jb(2),l.tc("placeholder",l.oc(20,61,"AUTH.NOM")),l.sc("ngModel",t.patient.name)("ngClass",l.wc(97,S,t.testName)),l.Jb(2),l.sc("ngIf",t.testName),l.Jb(3),l.Qc(l.oc(25,63,"AUTH.PRENOM")),l.Jb(2),l.tc("placeholder",l.oc(27,65,"AUTH.PRENOM")),l.sc("ngModel",t.patient.lastname)("ngClass",l.wc(99,S,t.testLastName)),l.Jb(2),l.sc("ngIf",t.testLastName),l.Jb(4),l.Qc(l.oc(33,67,"AUTH.EMAIL")),l.Jb(2),l.tc("placeholder",l.oc(35,69,"AUTH.EMAIL")),l.sc("ngModel",t.patient.email)("ngClass",l.wc(101,S,t.testEmail)),l.Jb(2),l.sc("ngIf",t.testEmail),l.Jb(3),l.Qc(l.oc(40,71,"AUTH.MOTDEPASS")),l.Jb(2),l.tc("placeholder",l.oc(42,73,"AUTH.MOTDEPASS")),l.sc("ngModel",t.patient.password)("ngClass",l.wc(103,S,t.testPassword)),l.Jb(2),l.sc("ngIf",t.testPassword),l.Jb(4),l.Qc(l.oc(48,75,"AUTH.ADDRESS")),l.Jb(2),l.tc("placeholder",l.oc(50,77,"AUTH.ADDRESS")),l.sc("ngModel",t.patient.adresse)("ngClass",l.wc(105,S,t.testAdresse)),l.Jb(2),l.sc("ngIf",t.testAdresse),l.Jb(4),l.sc("ngClass",l.wc(107,S,t.testGender))("ngModel",t.patient.gender),l.Jb(1),l.sc("ngValue","homme"),l.Jb(1),l.Qc(l.oc(58,79,"AUTH.SEXEH")),l.Jb(2),l.sc("ngValue","femme"),l.Jb(1),l.Qc(l.oc(61,81,"AUTH.SEXEF")),l.Jb(2),l.sc("ngIf",t.testGender),l.Jb(4),l.Qc(l.oc(67,83,"AUTH.POID")),l.Jb(2),l.tc("placeholder",l.oc(69,85,"AUTH.POID")),l.sc("ngModel",t.patient.weight)("ngClass",l.wc(109,S,t.testAdresse)),l.Jb(2),l.sc("ngIf",t.testAdresse),l.Jb(3),l.Qc(l.oc(74,87,"AUTH.SIZE")),l.Jb(2),l.tc("placeholder",l.oc(76,89,"AUTH.SIZE")),l.sc("ngModel",t.patient.size)("ngClass",l.wc(111,S,t.testAdresse)),l.Jb(2),l.sc("ngIf",t.testAdresse),l.Jb(4),l.Qc(l.oc(82,91,"AUTH.DATEN")),l.Jb(2),l.sc("ngModel",t.patient.birthday)("ngClass",l.wc(113,S,t.testBirthday)),l.Jb(1),l.sc("ngIf",t.testBirthday),l.Jb(3),l.Qc(l.oc(88,93,"AUTH.TELE")),l.Jb(2),l.sc("ngModel",t.patient.tel)("ngClass",l.wc(115,S,t.testTelephone)),l.Jb(1),l.sc("ngIf",t.testTelephone),l.Jb(4),l.sc("ngModel",t.patient.ssn)("ngClass",l.wc(117,S,t.testSsn)),l.Jb(1),l.sc("ngIf",t.testSsn),l.Jb(1),l.sc("ngIf",t.url),l.Jb(1),l.sc("ngIf",t.validSpinner),l.Jb(2),l.Rc("",l.oc(100,95,"AUTH.ENR")," "))},directives:[s.c,s.p,s.s,a.k,a.m,s.x,s.t,s.z],pipes:[m.c],styles:[".error[_ngcontent-%COMP%]{border:1px solid #f04c4c;color:#f04c4c}.card-to-add[_ngcontent-%COMP%]{border:10px dashed #ddd;border-radius:7px;background-color:initial;transform:scale(1.02);cursor:pointer}.card-to-add[_ngcontent-%COMP%]:hover{transform:scale(1.05);cursor:pointer}i[_ngcontent-%COMP%]{color:#ddd}"]}),e})()}];let I=(()=>{class e{}return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(N)],c.i]}),e})(),q=(()=>{class e{}return e.\u0275mod=l.Tb({type:e}),e.\u0275inj=l.Sb({factory:function(t){return new(t||e)},imports:[[a.c,I,s.j,m.b,s.v]]}),e})()}}]);